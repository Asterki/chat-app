(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{1781:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts/register",function(){return c(6456)}])},6456:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return z}});var d=c(7568),e=c(828),f=c(4051),g=c.n(f),h=c(5893),i=c(7294),j=c(9669),k=c.n(j),l=c(8966),m=c.n(l),n=c(1608),o=c(1555),p=c(6968),q=c(6336),r=c(5084),s=c(1163),t=c(9008),u=c.n(t),v=c(6565),w=c(1056),x=c.n(w),y=function(a){var b=(0,e.Z)(i.useState(!1),2),c=b[0],f=b[1],j=(0,e.Z)(i.useState(null),2),l=j[0],t=j[1],w=(0,e.Z)(i.useState(null),2),y=w[0],z=w[1],A=(0,e.Z)(i.useState(null),2),B=A[0],C=A[1],D=function(b){b.preventDefault(),f(!0),t(null),z(null),C(null);var c=document.querySelector("#email").value,e=document.querySelector("#username").value,h=document.querySelector("#password").value,i=document.querySelector("#confirm-password").value;return c?e?h?i?m().isEmail(c)?m().isAlphanumeric(e,"en-US",{ignore:"."})?e.length<3||e.length>32?(z(a.lang.usernameLength),f(!1)):h.length<3||h.length>64?(C(a.lang.passwordLength),f(!1)):void(0,d.Z)(g().mark(function b(){var d,i,j;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,b.next=3,k()({method:"POST",url:"".concat(a.host,"/api/accounts/check-use"),data:{email:c,username:e}});case 3:if("all-good"!=(d=b.sent).data.message){b.next=27;break}return b.next=7,k()({method:"POST",url:"".concat(a.host,"/api/accounts/register"),data:{email:c,username:e,password:h,lang:a.langCode}});case 7:i=b.sent,b.t0=i.data.message,b.next="success"===b.t0?11:"try-again"===b.t0?13:"rate-limit-exceeded"===b.t0?19:23;break;case 11:return window.location.href="/home",b.abrupt("break",25);case 13:return b.next=15,k()({method:"POST",url:"".concat(a.host,"/api/accounts/register"),data:{email:c,username:e,password:h,lang:a.langCode}});case 15:if("success"!=(j=b.sent).data.message){b.next=18;break}return b.abrupt("return",window.location.href="/home");case 18:return b.abrupt("break",25);case 19:return document.querySelector("#password").value="",f(!1),t(a.lang.rateLimitExceeded),b.abrupt("break",25);case 23:return window.location.href="/error?code=".concat(i.data.status,"&message=").concat(i.data.message),b.abrupt("break",25);case 25:b.next=36;break;case 27:if("email-already-in-use"!=d.data.message){b.next=31;break}return document.querySelector("#email").value="",f(!1),b.abrupt("return",t(a.lang.emailInUse));case 31:if("username-already-in-use"!=d.data.message){b.next=35;break}return document.querySelector("#username").value="",f(!1),b.abrupt("return",z(a.lang.usernameInUse));case 35:return b.abrupt("return",window.location.href="/error?code=".concat(d.data.status,"&message=").concat(d.data.message));case 36:b.next=41;break;case 38:return b.prev=38,b.t1=b.catch(0),b.abrupt("return",window.location.href="/error?code=".concat(b.t1.response.status));case 41:case"end":return b.stop()}},b,null,[[0,38]])}))():(z(a.lang.usernameInvalid),f(!1)):(t(a.lang.emailInvalid),f(!1)):(C(a.lang.confirmPasswordRequired),f(!1)):(C(a.lang.passwordRequired),f(!1)):(z(a.lang.emailRequired),f(!1)):(t(a.lang.emailRequired),f(!1))};return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:x().page,children:[(0,h.jsx)(v.Z,{lang:a.lang.navbar,user:null}),(0,h.jsx)(u(),{children:(0,h.jsx)("title",{children:a.lang.pageTitle})}),(0,h.jsxs)(q.Z,{className:x()["register-form"],children:[(0,h.jsx)("h3",{children:a.lang.title}),(0,h.jsx)("br",{}),(0,h.jsx)("label",{htmlFor:"email",children:a.lang.email}),(0,h.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"john@example.com"}),(0,h.jsx)("p",{className:x()["error-label"],children:l}),(0,h.jsx)("br",{}),(0,h.jsx)("label",{htmlFor:"username",children:a.lang.username}),(0,h.jsx)("input",{type:"text",name:"username",id:"username",placeholder:"john"}),(0,h.jsx)("p",{className:x()["error-label"],children:y}),(0,h.jsx)("br",{}),(0,h.jsx)("label",{htmlFor:"password",children:a.lang.password}),(0,h.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"••••••••"}),(0,h.jsx)("p",{className:x()["error-label"],children:B}),(0,h.jsx)("br",{}),(0,h.jsx)("label",{htmlFor:"confirm-password",children:a.lang.confirmPassword}),(0,h.jsx)("input",{type:"password",name:"confirm-password",id:"confirm-password",placeholder:"••••••••"}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsxs)(n.Z,{xs:"1",sm:"1",md:"2",children:[(0,h.jsx)(o.Z,{children:(0,h.jsxs)(r.Z,{onClick:D,disabled:c,type:"submit",children:[(0,h.jsx)("p",{hidden:c,children:a.lang.register}),(0,h.jsx)(p.Z,{size:"sm",hidden:!c,animation:"border"})]})}),(0,h.jsx)(o.Z,{className:"".concat(x()["already-a-user"]," align-middle"),children:(0,h.jsxs)("p",{children:[a.lang.alreadyHaveAnAccount.split("&")[0]," ",(0,h.jsx)(s.Z,{href:"/login",children:a.lang.alreadyHaveAnAccount.split("&")[1]})]})})]})]})]})})},z=!0;b.default=y},1056:function(a){a.exports={page:"register_page__HFweu",navbar:"register_navbar__SCq2m","register-form":"register_register-form__xNnYu","already-a-user":"register_already-a-user__wCTG_","error-label":"register_error-label__FVroX"}}},function(a){a.O(0,[277,406,612,161,488,966,751,774,888,179],function(){var b;return a(a.s=1781)}),_N_E=a.O()}])